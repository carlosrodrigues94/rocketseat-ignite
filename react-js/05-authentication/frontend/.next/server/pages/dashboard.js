/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/dashboard";
exports.ids = ["pages/dashboard"];
exports.modules = {

/***/ "./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"signOut\": function() { return /* binding */ signOut; },\n/* harmony export */   \"AuthContext\": function() { return /* binding */ AuthContext; },\n/* harmony export */   \"AuthProvider\": function() { return /* binding */ AuthProvider; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/api */ \"./src/services/api.ts\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_4__);\n\nvar _jsxFileName = \"/home/carlos/Desktop/trabalho/study/rocketseat-ignite/react-js/05-authentication/frontend/src/contexts/AuthContext.tsx\";\n\n\n\n\nconst AuthContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nconst signOut = () => {\n  (0,nookies__WEBPACK_IMPORTED_MODULE_4__.destroyCookie)(undefined, \"nextauth.token\");\n  (0,nookies__WEBPACK_IMPORTED_MODULE_4__.destroyCookie)(undefined, \"nextauth.refreshToken\");\n  next_router__WEBPACK_IMPORTED_MODULE_3___default().push(\"/\");\n};\n\nconst AuthProvider = ({\n  children\n}) => {\n  const {\n    0: user,\n    1: setUser\n  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    email: \"\",\n    permissions: [],\n    roles: []\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const {\n      \"nextauth.token\": token\n    } = (0,nookies__WEBPACK_IMPORTED_MODULE_4__.parseCookies)();\n    if (!token) return;\n    _services_api__WEBPACK_IMPORTED_MODULE_2__.api.get(\"/me\").then(response => {\n      const {\n        email,\n        permissions,\n        roles\n      } = response.data;\n      setUser({\n        email,\n        permissions,\n        roles\n      });\n    }).catch(() => {\n      signOut();\n    });\n  }, []);\n  const isAuthenticated = !!user.email;\n\n  async function signIn({\n    email,\n    password\n  }) {\n    try {\n      const response = await _services_api__WEBPACK_IMPORTED_MODULE_2__.api.post(\"/sessions\", {\n        email,\n        password\n      });\n      const {\n        permissions,\n        roles,\n        token,\n        refreshToken\n      } = response.data;\n      setUser({\n        email,\n        permissions,\n        roles\n      });\n      (0,nookies__WEBPACK_IMPORTED_MODULE_4__.setCookie)(undefined, \"nextauth.token\", token, {\n        maxAge: 60 * 60 * 24 * 30,\n        // 1 month\n        path: \"/\"\n      });\n      (0,nookies__WEBPACK_IMPORTED_MODULE_4__.setCookie)(undefined, \"nextauth.refreshToken\", refreshToken, {\n        maxAge: 60 * 60 * 24 * 30,\n        // 1 month\n        path: \"/\"\n      });\n      _services_api__WEBPACK_IMPORTED_MODULE_2__.api.defaults.headers.Authorization = `Bearer ${token}`;\n      next_router__WEBPACK_IMPORTED_MODULE_3___default().push(\"/dashboard\");\n    } catch (err) {\n      console.log(\"Erro do SIGNIN ==>\", err);\n    }\n  }\n\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n    value: {\n      signIn,\n      isAuthenticated,\n      user\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, undefined);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLy4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeD85Yjc5Il0sIm5hbWVzIjpbIkF1dGhDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInNpZ25PdXQiLCJkZXN0cm95Q29va2llIiwidW5kZWZpbmVkIiwiUm91dGVyIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2V0VXNlciIsInVzZVN0YXRlIiwiZW1haWwiLCJwZXJtaXNzaW9ucyIsInJvbGVzIiwidXNlRWZmZWN0IiwidG9rZW4iLCJwYXJzZUNvb2tpZXMiLCJhcGkiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwiY2F0Y2giLCJpc0F1dGhlbnRpY2F0ZWQiLCJzaWduSW4iLCJwYXNzd29yZCIsInJlZnJlc2hUb2tlbiIsInNldENvb2tpZSIsIm1heEFnZSIsInBhdGgiLCJlcnIiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNEJBLE1BQU1BLFdBQVcsZ0JBQUdDLG9EQUFhLENBQUMsRUFBRCxDQUFqQztBQUVPLE1BQU1DLE9BQU8sR0FBRyxNQUFNO0FBQzNCQyx3REFBYSxDQUFDQyxTQUFELEVBQVksZ0JBQVosQ0FBYjtBQUNBRCx3REFBYSxDQUFDQyxTQUFELEVBQVksdUJBQVosQ0FBYjtBQUVBQyx5REFBQSxDQUFZLEdBQVo7QUFDRCxDQUxNOztBQU9QLE1BQU1DLFlBQTBDLEdBQUcsQ0FBQztBQUFFQztBQUFGLENBQUQsS0FBa0I7QUFDbkUsUUFBTTtBQUFBLE9BQUNDLElBQUQ7QUFBQSxPQUFPQztBQUFQLE1BQWtCQywrQ0FBUSxDQUFPO0FBQ3JDQyxTQUFLLEVBQUUsRUFEOEI7QUFFckNDLGVBQVcsRUFBRSxFQUZ3QjtBQUdyQ0MsU0FBSyxFQUFFO0FBSDhCLEdBQVAsQ0FBaEM7QUFNQUMsa0RBQVMsQ0FBQyxNQUFNO0FBQ2QsVUFBTTtBQUFFLHdCQUFrQkM7QUFBcEIsUUFBOEJDLHFEQUFZLEVBQWhEO0FBRUEsUUFBSSxDQUFDRCxLQUFMLEVBQVk7QUFFWkUsc0RBQUEsQ0FDTyxLQURQLEVBRUdDLElBRkgsQ0FFU0MsUUFBRCxJQUFjO0FBQ2xCLFlBQU07QUFBRVIsYUFBRjtBQUFTQyxtQkFBVDtBQUFzQkM7QUFBdEIsVUFBZ0NNLFFBQVEsQ0FBQ0MsSUFBL0M7QUFFQVgsYUFBTyxDQUFDO0FBQUVFLGFBQUY7QUFBU0MsbUJBQVQ7QUFBc0JDO0FBQXRCLE9BQUQsQ0FBUDtBQUNELEtBTkgsRUFPR1EsS0FQSCxDQU9TLE1BQU07QUFDWG5CLGFBQU87QUFDUixLQVRIO0FBVUQsR0FmUSxFQWVOLEVBZk0sQ0FBVDtBQWlCQSxRQUFNb0IsZUFBZSxHQUFHLENBQUMsQ0FBQ2QsSUFBSSxDQUFDRyxLQUEvQjs7QUFFQSxpQkFBZVksTUFBZixDQUFzQjtBQUFFWixTQUFGO0FBQVNhO0FBQVQsR0FBdEIsRUFBd0Q7QUFDdEQsUUFBSTtBQUNGLFlBQU1MLFFBQXdDLEdBQUcsTUFBTUYsbURBQUEsQ0FDckQsV0FEcUQsRUFFckQ7QUFBRU4sYUFBRjtBQUFTYTtBQUFULE9BRnFELENBQXZEO0FBS0EsWUFBTTtBQUFFWixtQkFBRjtBQUFlQyxhQUFmO0FBQXNCRSxhQUF0QjtBQUE2QlU7QUFBN0IsVUFBOENOLFFBQVEsQ0FBQ0MsSUFBN0Q7QUFFQVgsYUFBTyxDQUFDO0FBQUVFLGFBQUY7QUFBU0MsbUJBQVQ7QUFBc0JDO0FBQXRCLE9BQUQsQ0FBUDtBQUVBYSx3REFBUyxDQUFDdEIsU0FBRCxFQUFZLGdCQUFaLEVBQThCVyxLQUE5QixFQUFxQztBQUM1Q1ksY0FBTSxFQUFFLEtBQUssRUFBTCxHQUFVLEVBQVYsR0FBZSxFQURxQjtBQUNqQjtBQUMzQkMsWUFBSSxFQUFFO0FBRnNDLE9BQXJDLENBQVQ7QUFLQUYsd0RBQVMsQ0FBQ3RCLFNBQUQsRUFBWSx1QkFBWixFQUFxQ3FCLFlBQXJDLEVBQW1EO0FBQzFERSxjQUFNLEVBQUUsS0FBSyxFQUFMLEdBQVUsRUFBVixHQUFlLEVBRG1DO0FBQy9CO0FBQzNCQyxZQUFJLEVBQUU7QUFGb0QsT0FBbkQsQ0FBVDtBQUtBWCxtRkFBQSxHQUF5QyxVQUFTRixLQUFNLEVBQXhEO0FBRUFWLDZEQUFBLENBQVksWUFBWjtBQUNELEtBdkJELENBdUJFLE9BQU93QixHQUFQLEVBQVk7QUFDWkMsYUFBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosRUFBa0NGLEdBQWxDO0FBQ0Q7QUFDRjs7QUFFRCxzQkFDRSw4REFBQyxXQUFELENBQWEsUUFBYjtBQUFzQixTQUFLLEVBQUU7QUFBRU4sWUFBRjtBQUFVRCxxQkFBVjtBQUEyQmQ7QUFBM0IsS0FBN0I7QUFBQSxjQUNHRDtBQURIO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFERjtBQUtELENBNUREIiwiZmlsZSI6Ii4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9hcGlcIjtcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyBkZXN0cm95Q29va2llLCBwYXJzZUNvb2tpZXMsIHNldENvb2tpZSB9IGZyb20gXCJub29raWVzXCI7XG5cbnR5cGUgQ3JlZGVudGlhbHMgPSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59O1xuXG50eXBlIFVzZXIgPSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBlcm1pc3Npb25zOiBzdHJpbmdbXTtcbiAgcm9sZXM6IHN0cmluZ1tdO1xufTtcblxudHlwZSBTZXNzaW9uUmVzcG9uc2UgPSB7XG4gIHBlcm1pc3Npb25zOiBzdHJpbmdbXTtcbiAgcm9sZXM6IHN0cmluZ1tdO1xuICB0b2tlbjogc3RyaW5nO1xuICByZWZyZXNoVG9rZW46IHN0cmluZztcbn07XG5cbmludGVyZmFjZSBBdXRoQ29udGV4dERhdGEge1xuICBzaWduSW46IChjcmVkZW50aWFsczogQ3JlZGVudGlhbHMpID0+IFByb21pc2U8dm9pZD47XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgdXNlcjogVXNlcjtcbn1cblxuaW50ZXJmYWNlIElBdXRoUHJvdmlkZXJQcm9wcyB7fVxuXG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30gYXMgQXV0aENvbnRleHREYXRhKTtcblxuZXhwb3J0IGNvbnN0IHNpZ25PdXQgPSAoKSA9PiB7XG4gIGRlc3Ryb3lDb29raWUodW5kZWZpbmVkLCBcIm5leHRhdXRoLnRva2VuXCIpO1xuICBkZXN0cm95Q29va2llKHVuZGVmaW5lZCwgXCJuZXh0YXV0aC5yZWZyZXNoVG9rZW5cIik7XG5cbiAgUm91dGVyLnB1c2goXCIvXCIpO1xufTtcblxuY29uc3QgQXV0aFByb3ZpZGVyOiBSZWFjdC5GQzxJQXV0aFByb3ZpZGVyUHJvcHM+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyPih7XG4gICAgZW1haWw6IFwiXCIsXG4gICAgcGVybWlzc2lvbnM6IFtdLFxuICAgIHJvbGVzOiBbXSxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7IFwibmV4dGF1dGgudG9rZW5cIjogdG9rZW4gfSA9IHBhcnNlQ29va2llcygpO1xuXG4gICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuXG4gICAgYXBpXG4gICAgICAuZ2V0KFwiL21lXCIpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGVybWlzc2lvbnMsIHJvbGVzIH0gPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgIHNldFVzZXIoeyBlbWFpbCwgcGVybWlzc2lvbnMsIHJvbGVzIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIHNpZ25PdXQoKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gISF1c2VyLmVtYWlsO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHNpZ25Jbih7IGVtYWlsLCBwYXNzd29yZCB9OiBDcmVkZW50aWFscykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxTZXNzaW9uUmVzcG9uc2U+ID0gYXdhaXQgYXBpLnBvc3QoXG4gICAgICAgIFwiL3Nlc3Npb25zXCIsXG4gICAgICAgIHsgZW1haWwsIHBhc3N3b3JkIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHsgcGVybWlzc2lvbnMsIHJvbGVzLCB0b2tlbiwgcmVmcmVzaFRva2VuIH0gPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICBzZXRVc2VyKHsgZW1haWwsIHBlcm1pc3Npb25zLCByb2xlcyB9KTtcblxuICAgICAgc2V0Q29va2llKHVuZGVmaW5lZCwgXCJuZXh0YXV0aC50b2tlblwiLCB0b2tlbiwge1xuICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDMwLCAvLyAxIG1vbnRoXG4gICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgfSk7XG5cbiAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsIFwibmV4dGF1dGgucmVmcmVzaFRva2VuXCIsIHJlZnJlc2hUb2tlbiwge1xuICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDMwLCAvLyAxIG1vbnRoXG4gICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgfSk7XG5cbiAgICAgIGFwaS5kZWZhdWx0cy5oZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuXG4gICAgICBSb3V0ZXIucHVzaChcIi9kYXNoYm9hcmRcIik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVycm8gZG8gU0lHTklOID09PlwiLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHNpZ25JbiwgaXNBdXRoZW50aWNhdGVkLCB1c2VyIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG5leHBvcnQgeyBBdXRoQ29udGV4dCwgQXV0aFByb3ZpZGVyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./src/pages/dashboard.tsx":
/*!*********************************!*\
  !*** ./src/pages/dashboard.tsx ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n\nvar _jsxFileName = \"/home/carlos/Desktop/trabalho/study/rocketseat-ignite/react-js/05-authentication/frontend/src/pages/dashboard.tsx\";\n\n // import { Container } from './styles';\n\nconst Dashboard = () => {\n  const {\n    user\n  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.AuthContext);\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    children: [\"Dashboard\", /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n      children: user.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, undefined)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, undefined);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dashboard);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLy4vc3JjL3BhZ2VzL2Rhc2hib2FyZC50c3g/OWIzMSJdLCJuYW1lcyI6WyJEYXNoYm9hcmQiLCJ1c2VyIiwidXNlQ29udGV4dCIsIkF1dGhDb250ZXh0IiwiZW1haWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Q0FHQTs7QUFFQSxNQUFNQSxTQUFtQixHQUFHLE1BQU07QUFDaEMsUUFBTTtBQUFFQztBQUFGLE1BQVdDLGlEQUFVLENBQUNDLDhEQUFELENBQTNCO0FBRUEsc0JBQ0U7QUFBQSx5Q0FFRTtBQUFBLGdCQUFJRixJQUFJLENBQUNHO0FBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFGRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFERjtBQU1ELENBVEQ7O0FBV0EsK0RBQWVKLFNBQWYiLCJmaWxlIjoiLi9zcmMvcGFnZXMvZGFzaGJvYXJkLnRzeC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBBdXRoQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0cy9BdXRoQ29udGV4dFwiO1xuXG4vLyBpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuL3N0eWxlcyc7XG5cbmNvbnN0IERhc2hib2FyZDogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgRGFzaGJvYXJkXG4gICAgICA8cD57dXNlci5lbWFpbH08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEYXNoYm9hcmQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/dashboard.tsx\n");

/***/ }),

/***/ "./src/services/api.ts":
/*!*****************************!*\
  !*** ./src/services/api.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api\": function() { return /* binding */ api; }\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n\n\n\nlet cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_1__.parseCookies)();\nlet isRefreshing = false;\nlet failedRequestsQueue = [];\nconst api = axios__WEBPACK_IMPORTED_MODULE_0___default().create({\n  baseURL: \"http://localhost:3333\",\n  headers: {\n    Authorization: `Bearer ${cookies[\"nextauth.token\"]}`\n  }\n});\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response.status === 401) {\n    var _error$response$data;\n\n    if (((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.code) === \"token.expired\") {\n      cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_1__.parseCookies)();\n      const refreshToken = cookies[\"nextauth.refreshToken\"];\n      const originalConfig = error.config;\n\n      if (!isRefreshing) {\n        isRefreshing = true;\n        api.post(\"/refresh\", {\n          refreshToken\n        }).then(response => {\n          const {\n            token,\n            refreshToken: newRefreshToken\n          } = response.data;\n          (0,nookies__WEBPACK_IMPORTED_MODULE_1__.setCookie)(undefined, \"nextauth.token\", token, {\n            maxAge: 60 * 60 * 24 * 30,\n            // 1 month\n            path: \"/\"\n          });\n          (0,nookies__WEBPACK_IMPORTED_MODULE_1__.setCookie)(undefined, \"nextauth.refreshToken\", newRefreshToken, {\n            maxAge: 60 * 60 * 24 * 30,\n            // 1 month\n            path: \"/\"\n          });\n          api.defaults.headers[\"Authorization\"] = `Bearer ${token}`;\n          failedRequestsQueue.forEach(request => request.onSuccess(token));\n          failedRequestsQueue = [];\n        }).catch(err => {\n          failedRequestsQueue.forEach(request => request.onFailure(err));\n          failedRequestsQueue = [];\n        }).finally(() => {\n          isRefreshing = false;\n        });\n        return new Promise((resolve, reject) => {\n          failedRequestsQueue.push({\n            onSuccess: newToken => {\n              originalConfig.headers[\"Authorization\"] = `Bearer ${newToken}`;\n              resolve(api(originalConfig));\n            },\n            onFailure: err => {\n              reject(err);\n            }\n          });\n        }); //renovar\n      }\n    } else {\n      (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.signOut)();\n    }\n  }\n\n  return Promise.reject(error);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLy4vc3JjL3NlcnZpY2VzL2FwaS50cz8wZTlkIl0sIm5hbWVzIjpbImNvb2tpZXMiLCJwYXJzZUNvb2tpZXMiLCJpc1JlZnJlc2hpbmciLCJmYWlsZWRSZXF1ZXN0c1F1ZXVlIiwiYXBpIiwiYXhpb3MiLCJiYXNlVVJMIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJpbnRlcmNlcHRvcnMiLCJyZXNwb25zZSIsInVzZSIsImVycm9yIiwic3RhdHVzIiwiZGF0YSIsImNvZGUiLCJyZWZyZXNoVG9rZW4iLCJvcmlnaW5hbENvbmZpZyIsImNvbmZpZyIsInBvc3QiLCJ0aGVuIiwidG9rZW4iLCJuZXdSZWZyZXNoVG9rZW4iLCJzZXRDb29raWUiLCJ1bmRlZmluZWQiLCJtYXhBZ2UiLCJwYXRoIiwiZGVmYXVsdHMiLCJmb3JFYWNoIiwicmVxdWVzdCIsIm9uU3VjY2VzcyIsImNhdGNoIiwiZXJyIiwib25GYWlsdXJlIiwiZmluYWxseSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicHVzaCIsIm5ld1Rva2VuIiwic2lnbk91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUEsSUFBSUEsT0FBTyxHQUFHQyxxREFBWSxFQUExQjtBQUVBLElBQUlDLFlBQVksR0FBRyxLQUFuQjtBQUVBLElBQUlDLG1CQUFtQixHQUFHLEVBQTFCO0FBRUEsTUFBTUMsR0FBRyxHQUFHQyxtREFBQSxDQUFhO0FBQ3ZCQyxTQUFPLEVBQUUsdUJBRGM7QUFFdkJDLFNBQU8sRUFBRTtBQUNQQyxpQkFBYSxFQUFHLFVBQVNSLE9BQU8sQ0FBQyxnQkFBRCxDQUFtQjtBQUQ1QztBQUZjLENBQWIsQ0FBWjtBQU9BSSxHQUFHLENBQUNLLFlBQUosQ0FBaUJDLFFBQWpCLENBQTBCQyxHQUExQixDQUNHRCxRQUFELElBQTZCO0FBQzNCLFNBQU9BLFFBQVA7QUFDRCxDQUhILEVBSUdFLEtBQUQsSUFBdUI7QUFDckIsTUFBSUEsS0FBSyxDQUFDRixRQUFOLENBQWVHLE1BQWYsS0FBMEIsR0FBOUIsRUFBbUM7QUFBQTs7QUFDakMsUUFBSSx5QkFBQUQsS0FBSyxDQUFDRixRQUFOLENBQWVJLElBQWYsOEVBQXFCQyxJQUFyQixNQUE4QixlQUFsQyxFQUFtRDtBQUNqRGYsYUFBTyxHQUFHQyxxREFBWSxFQUF0QjtBQUVBLFlBQU1lLFlBQVksR0FBR2hCLE9BQU8sQ0FBQyx1QkFBRCxDQUE1QjtBQUNBLFlBQU1pQixjQUFjLEdBQUdMLEtBQUssQ0FBQ00sTUFBN0I7O0FBRUEsVUFBSSxDQUFDaEIsWUFBTCxFQUFtQjtBQUNqQkEsb0JBQVksR0FBRyxJQUFmO0FBRUFFLFdBQUcsQ0FDQWUsSUFESCxDQUNRLFVBRFIsRUFDb0I7QUFBRUg7QUFBRixTQURwQixFQUVHSSxJQUZILENBRVNWLFFBQUQsSUFBYztBQUNsQixnQkFBTTtBQUFFVyxpQkFBRjtBQUFTTCx3QkFBWSxFQUFFTTtBQUF2QixjQUEyQ1osUUFBUSxDQUFDSSxJQUExRDtBQUVBUyw0REFBUyxDQUFDQyxTQUFELEVBQVksZ0JBQVosRUFBOEJILEtBQTlCLEVBQXFDO0FBQzVDSSxrQkFBTSxFQUFFLEtBQUssRUFBTCxHQUFVLEVBQVYsR0FBZSxFQURxQjtBQUNqQjtBQUMzQkMsZ0JBQUksRUFBRTtBQUZzQyxXQUFyQyxDQUFUO0FBS0FILDREQUFTLENBQUNDLFNBQUQsRUFBWSx1QkFBWixFQUFxQ0YsZUFBckMsRUFBc0Q7QUFDN0RHLGtCQUFNLEVBQUUsS0FBSyxFQUFMLEdBQVUsRUFBVixHQUFlLEVBRHNDO0FBQ2xDO0FBQzNCQyxnQkFBSSxFQUFFO0FBRnVELFdBQXRELENBQVQ7QUFLQXRCLGFBQUcsQ0FBQ3VCLFFBQUosQ0FBYXBCLE9BQWIsQ0FBcUIsZUFBckIsSUFBeUMsVUFBU2MsS0FBTSxFQUF4RDtBQUVBbEIsNkJBQW1CLENBQUN5QixPQUFwQixDQUE2QkMsT0FBRCxJQUMxQkEsT0FBTyxDQUFDQyxTQUFSLENBQWtCVCxLQUFsQixDQURGO0FBR0FsQiw2QkFBbUIsR0FBRyxFQUF0QjtBQUNELFNBckJILEVBc0JHNEIsS0F0QkgsQ0FzQlVDLEdBQUQsSUFBUztBQUNkN0IsNkJBQW1CLENBQUN5QixPQUFwQixDQUE2QkMsT0FBRCxJQUFhQSxPQUFPLENBQUNJLFNBQVIsQ0FBa0JELEdBQWxCLENBQXpDO0FBQ0E3Qiw2QkFBbUIsR0FBRyxFQUF0QjtBQUNELFNBekJILEVBMEJHK0IsT0ExQkgsQ0EwQlcsTUFBTTtBQUNiaEMsc0JBQVksR0FBRyxLQUFmO0FBQ0QsU0E1Qkg7QUE4QkEsZUFBTyxJQUFJaUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q2xDLDZCQUFtQixDQUFDbUMsSUFBcEIsQ0FBeUI7QUFDdkJSLHFCQUFTLEVBQUdTLFFBQUQsSUFBc0I7QUFDL0J0Qiw0QkFBYyxDQUFDVixPQUFmLENBQXVCLGVBQXZCLElBQTJDLFVBQVNnQyxRQUFTLEVBQTdEO0FBRUFILHFCQUFPLENBQUNoQyxHQUFHLENBQUNhLGNBQUQsQ0FBSixDQUFQO0FBQ0QsYUFMc0I7QUFNdkJnQixxQkFBUyxFQUFHRCxHQUFELElBQXFCO0FBQzlCSyxvQkFBTSxDQUFDTCxHQUFELENBQU47QUFDRDtBQVJzQixXQUF6QjtBQVVELFNBWE0sQ0FBUCxDQWpDaUIsQ0E2Q2pCO0FBQ0Q7QUFDRixLQXJERCxNQXFETztBQUNMUSxvRUFBTztBQUNSO0FBQ0Y7O0FBQ0QsU0FBT0wsT0FBTyxDQUFDRSxNQUFSLENBQWV6QixLQUFmLENBQVA7QUFDRCxDQWhFSCIsImZpbGUiOiIuL3NyYy9zZXJ2aWNlcy9hcGkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgQXhpb3NFcnJvciwgQXhpb3NSZXNwb25zZSB9IGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IHsgcGFyc2VDb29raWVzLCBzZXRDb29raWUgfSBmcm9tIFwibm9va2llc1wiO1xuaW1wb3J0IHsgc2lnbk91dCB9IGZyb20gXCIuLi9jb250ZXh0cy9BdXRoQ29udGV4dFwiO1xuXG5sZXQgY29va2llcyA9IHBhcnNlQ29va2llcygpO1xuXG5sZXQgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG5cbmxldCBmYWlsZWRSZXF1ZXN0c1F1ZXVlID0gW107XG5cbmNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IFwiaHR0cDovL2xvY2FsaG9zdDozMzMzXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Y29va2llc1tcIm5leHRhdXRoLnRva2VuXCJdfWAsXG4gIH0sXG59KTtcblxuYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gIChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSxcbiAgKGVycm9yOiBBeGlvc0Vycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YT8uY29kZSA9PT0gXCJ0b2tlbi5leHBpcmVkXCIpIHtcbiAgICAgICAgY29va2llcyA9IHBhcnNlQ29va2llcygpO1xuXG4gICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGNvb2tpZXNbXCJuZXh0YXV0aC5yZWZyZXNoVG9rZW5cIl07XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsQ29uZmlnID0gZXJyb3IuY29uZmlnO1xuXG4gICAgICAgIGlmICghaXNSZWZyZXNoaW5nKSB7XG4gICAgICAgICAgaXNSZWZyZXNoaW5nID0gdHJ1ZTtcblxuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLnBvc3QoXCIvcmVmcmVzaFwiLCB7IHJlZnJlc2hUb2tlbiB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgdG9rZW4sIHJlZnJlc2hUb2tlbjogbmV3UmVmcmVzaFRva2VuIH0gPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsIFwibmV4dGF1dGgudG9rZW5cIiwgdG9rZW4sIHtcbiAgICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDMwLCAvLyAxIG1vbnRoXG4gICAgICAgICAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsIFwibmV4dGF1dGgucmVmcmVzaFRva2VuXCIsIG5ld1JlZnJlc2hUb2tlbiwge1xuICAgICAgICAgICAgICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogMzAsIC8vIDEgbW9udGhcbiAgICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgYXBpLmRlZmF1bHRzLmhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3Rva2VufWA7XG5cbiAgICAgICAgICAgICAgZmFpbGVkUmVxdWVzdHNRdWV1ZS5mb3JFYWNoKChyZXF1ZXN0KSA9PlxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub25TdWNjZXNzKHRva2VuKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmYWlsZWRSZXF1ZXN0c1F1ZXVlID0gW107XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgZmFpbGVkUmVxdWVzdHNRdWV1ZS5mb3JFYWNoKChyZXF1ZXN0KSA9PiByZXF1ZXN0Lm9uRmFpbHVyZShlcnIpKTtcbiAgICAgICAgICAgICAgZmFpbGVkUmVxdWVzdHNRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmYWlsZWRSZXF1ZXN0c1F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICBvblN1Y2Nlc3M6IChuZXdUb2tlbjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb25maWcuaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7bmV3VG9rZW59YDtcblxuICAgICAgICAgICAgICAgIHJlc29sdmUoYXBpKG9yaWdpbmFsQ29uZmlnKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9uRmFpbHVyZTogKGVycjogQXhpb3NFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy9yZW5vdmFyXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpZ25PdXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuZXhwb3J0IHsgYXBpIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/api.ts\n");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ (function(module) {

"use strict";
module.exports = require("axios");;

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ (function(module) {

"use strict";
module.exports = require("next/router");;

/***/ }),

/***/ "nookies":
/*!**************************!*\
  !*** external "nookies" ***!
  \**************************/
/***/ (function(module) {

"use strict";
module.exports = require("nookies");;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ (function(module) {

"use strict";
module.exports = require("react");;

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ (function(module) {

"use strict";
module.exports = require("react/jsx-dev-runtime");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./src/pages/dashboard.tsx"));
module.exports = __webpack_exports__;

})();